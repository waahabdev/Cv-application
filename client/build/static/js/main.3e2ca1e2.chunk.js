(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(22),r=a.n(s),l=(a(29),a(30),a(13)),i=a.n(l),o=a(23),j=a(6),b=a(7),d=a(5),m=a(24),u=a.n(m),h=a(1),O=a(2),x=function(){var e=Object(h.h)(),t=Object(c.useState)({email:""}),a=Object(d.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)({password:""}),l=Object(d.a)(r,2),m=l[0],x=l[1];function p(){return localStorage.getItem("token")}var f=function(e){s(Object(b.a)(Object(b.a)({},n),{},Object(j.a)({},e.target.name,e.target.value))),x(Object(b.a)(Object(b.a)({},m),{},Object(j.a)({},e.target.name,e.target.value)))},g=function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),u.a.post("http://localhost:4000/users/login",n,m).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("firstname",t.data.user.firstname),localStorage.setItem("lastname",t.data.user.lastname),localStorage.setItem("user",t.data.user),p&&e("/dashboard")})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"login align-items-center d-flex justify-content-center container",children:Object(O.jsx)("div",{className:"card",children:Object(O.jsxs)("div",{className:"m-5 ",children:[Object(O.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(O.jsx)("i",{className:"login-person far fa-user"})}),Object(O.jsxs)("form",{onSubmit:g,children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(O.jsx)("input",{name:"email",type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:f}),Object(O.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(O.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",onChange:f})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})})},p=a(12),f=function(){var e=Object(h.h)();return Object(O.jsx)("div",{className:"container mt-5",children:Object(O.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(O.jsx)("div",{className:"card",children:Object(O.jsx)("h1",{children:"You are logged in!"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"btn btn-info",onClick:function(){localStorage.clear(),e("/")},children:"Log out"})})]})})},g=function(){return"token"in localStorage?Object(O.jsx)(h.b,{}):Object(O.jsx)(h.a,{to:"/login"})};var v=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(p.a,{children:Object(O.jsxs)(h.e,{children:[Object(O.jsx)(h.c,{exact:!0,path:"/",element:Object(O.jsx)(x,{})}),Object(O.jsx)(h.c,{exact:!0,path:"/dashboard",element:Object(O.jsx)(g,{}),children:Object(O.jsx)(h.c,{exact:!0,path:"/dashboard",element:Object(O.jsx)(f,{})})})]})})})};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.3e2ca1e2.chunk.js.map